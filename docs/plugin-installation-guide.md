# MemoryNote 插件安装指南

## 📦 通过ZIP文件安装插件

### 步骤1: 获取插件文件

您可以通过以下方式获取插件ZIP文件：

1. **下载现有插件**：从插件开发者提供的链接下载
2. **自己开发的插件**：将插件文件打包为ZIP格式
3. **示例插件**：使用项目中提供的示例插件

### 步骤2: 准备插件ZIP文件

确保ZIP文件包含正确的插件结构：

```
plugin-name.zip
├── manifest.json    # 插件清单文件（必需）
├── index.js         # 主入口文件（必需）
├── styles.css       # 样式文件（可选）
├── icon.svg         # 插件图标（可选）
└── themes/          # 主题文件（主题插件）
    ├── dark.css
    └── light.css
```

**重要提示**：
- ZIP文件根目录必须直接包含 `manifest.json` 文件
- 不要将插件文件放在ZIP内的子文件夹中
- 确保所有文件路径使用正斜杠 `/`

### 步骤3: 打开插件管理器

1. 启动MemoryNote应用
2. 在左侧边栏找到插件图标（🔌）
3. 点击进入插件管理器页面

### 步骤4: 安装插件

1. **点击"安装插件"按钮**
   - 位于插件管理器右上角

2. **选择安装方式**
   - 选择"ZIP文件"选项

3. **选择插件文件**
   - 点击"点击选择文件..."按钮
   - 在文件对话框中选择您的插件ZIP文件
   - 确认文件路径显示正确

4. **开始安装**
   - 点击"安装"按钮
   - 等待安装过程完成

### 步骤5: 验证安装

安装成功后，您应该看到：

✅ **成功提示**：显示插件名称、版本和作者信息
✅ **插件列表**：新插件出现在管理器的插件列表中
✅ **状态显示**：插件状态为"已安装"

## 🔧 安装后操作

### 启用插件

1. 在插件列表中找到刚安装的插件
2. 点击"启用"按钮
3. 插件状态变为"已启用"

### 配置插件

1. 点击插件右侧的设置图标（⚙️）
2. 根据插件类型进行相应配置

### 使用插件功能

**主题插件**：
- 启用后可使用 `Ctrl+Shift+T` 切换主题
- 或使用 `Ctrl+Shift+D` 切换深色/浅色模式

**命令插件**：
- 查看插件提供的快捷键
- 使用相应的快捷键执行命令

## ❌ 常见安装问题

### 问题1: "插件包中找不到 manifest.json 文件"

**原因**：ZIP文件结构不正确

**解决方案**：
- 确保 `manifest.json` 在ZIP文件的根目录
- 重新打包插件，不要将文件放在子文件夹中

### 问题2: "manifest.json 格式无效"

**原因**：JSON文件格式错误

**解决方案**：
- 使用JSON验证工具检查语法
- 确保所有字符串都用双引号包围
- 检查是否有多余的逗号

### 问题3: "插件主文件不存在"

**原因**：manifest.json中指定的主文件路径错误

**解决方案**：
- 检查 `manifest.json` 中的 `main` 字段
- 确保指定的文件存在于ZIP包中
- 检查文件名大小写是否正确

### 问题4: "版本号格式无效"

**原因**：版本号不符合语义化版本规范

**解决方案**：
- 使用 `x.y.z` 格式（如 `1.0.0`）
- 确保版本号只包含数字和点

### 问题5: "插件ID只能包含小写字母、数字和连字符"

**原因**：插件ID包含不允许的字符

**解决方案**：
- 修改 `manifest.json` 中的 `id` 字段
- 只使用小写字母、数字和 `-` 字符
- 例如：`my-awesome-plugin`

## 🛡️ 安全注意事项

### 验证插件来源

- 只安装来自可信来源的插件
- 检查插件作者和描述信息
- 查看插件申请的权限列表

### 权限审查

安装前检查插件清单中的权限：

```json
{
  "permissions": [
    "read_files",      // 读取文件
    "write_files",     // 写入文件
    "ui_modify",       // 修改界面
    "network_access"   // 网络访问
  ]
}
```

### 沙箱保护

MemoryNote插件系统提供以下安全保护：
- 插件运行在受限环境中
- 文件访问限制在插件目录内
- 网络访问需要明确权限
- 系统API访问受到限制

## 📊 插件管理

### 查看已安装插件

在插件管理器中您可以：
- 查看所有已安装插件
- 按类型筛选（主题、命令、UI等）
- 搜索特定插件
- 查看插件详细信息

### 启用/禁用插件

- **启用**：插件开始工作，提供其功能
- **禁用**：插件停止工作，但仍保持安装状态

### 卸载插件

1. 先禁用插件（如果已启用）
2. 点击插件右侧的删除图标（🗑️）
3. 确认卸载操作

**注意**：卸载会完全删除插件文件，无法撤销。

## 🔄 更新插件

目前更新插件需要：
1. 卸载旧版本插件
2. 重新安装新版本插件

未来版本将支持一键更新功能。

## 📞 获取帮助

如果安装过程中遇到问题：

1. **查看控制台日志**：按 F12 打开开发者工具查看错误信息
2. **检查文件格式**：确保ZIP文件和manifest.json格式正确
3. **查阅文档**：参考插件开发指南了解详细要求
4. **联系支持**：向插件作者或MemoryNote团队寻求帮助

祝您使用愉快！🎉


